{% extends 'navbars/dataentryactions.html' %}
{% block content %}
<style>
    h2{
        text-align: center;
        text-transform: uppercase;
    }
    #message{
        text-align: center;
        color: blue;
        font-weight: 800;
        text-transform: uppercase;
        padding: 10px;
    }
    .all{
      margin: 20px;
    }
</style>
<h2>Intermediary list page</h2>
{% for message in messages %}
<p id="message">{{message}}</p>
{% endfor %}
<div class="all">
  <a href="{% url 'intermediary_list' %}"class="btn btn-primary">All intermediaries</a>
</div>
<form method= 'get' action="{% url 'intermediary_list' %}"class="d-flex" role="search">
  <input type="text"name='q'placeholder="Search Intermediary...">
</form>
<table style="margin-top: 20px;" class="table table-bordered">
    <thead>
      <tr>
        <th scope="col">Intermediary ID</th>
        <th scope="col">Intermediary Name</th>
        <th scope="col">Email</th>
        <th scope="col">Phone</th>
        <th scope="col">ContactPerson</th>
        <th scope="col">Location</th>
        <th scope="col">Date added</th>
        <th>Actions</th>
      </tr>
    </thead>
    {% for intermediary in intermediaries %}
    <tbody>
      <tr>
        <td>{{intermediary.id}}</td>
        <td>{{intermediary.intermediaryName}}</td>
        <td>{{intermediary.intermediaryEmail}}</td>
        <td>{{intermediary.intermediaryPhone}}</td>
        <td>{{intermediary.contactPerson}}</td>
        <td>{{intermediary.location}}</td>
        <td>{{intermediary.date_added}}</td>
        <td>
            <a href="{% url 'edit_intermediary' intermediary.id %}" class="btn btn-primary">Edit</a>
            <a href="{% url 'delete_intermediary' intermediary.id %}" class="btn btn-danger">Delete</a>
            
        </td>
      </tr>
    {% empty %}
      <tr>
        <td colspan="6">No intermediaries found</td>
      </tr>
    </tbody>
    {% endfor %}
  </table>
  <a href="" class="btn btn-primary">Print Students</a>

{% endblock %}